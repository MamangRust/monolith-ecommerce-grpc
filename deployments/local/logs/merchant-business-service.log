{"level":"debug","ts":"2025-08-14T03:17:23.940Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-14T03:17:23.949Z","caller":"apps/server.go:167","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-14T03:17:23.949Z","caller":"apps/server.go:174","msg":"Metrics server listening on :8096"}
{"level":"info","ts":"2025-08-14T03:17:23.949Z","caller":"apps/server.go:182","msg":"gRPC server listening on :50066"}
{"level":"debug","ts":"2025-08-14T04:03:02.516Z","caller":"service/merchantBusinessQueryService.go:216","msg":"Start: FindAll"}
{"level":"debug","ts":"2025-08-14T04:03:02.572Z","caller":"redis/cache_helpers.go:51","msg":"Successfully cached data","cacheKey":"merchant_business:all:page:1:pageSize:10:search:restaurant","expiration":"5m0s"}
{"level":"debug","ts":"2025-08-14T04:03:02.573Z","caller":"service/merchantBusinessQueryService.go:230","msg":"Successfully fetched merchants","page":1,"pageSize":10,"search":"restaurant"}
{"level":"info","ts":"2025-08-14T04:03:02.573Z","caller":"middleware/context.go:25","msg":"gRPC Request","method":"/pb.MerchantBusinessService/FindAll","request_id":"req_1755144182516160807_yfNwZLW9","duration":"57.7375ms"}
{"level":"debug","ts":"2025-08-14T05:53:35.267Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-14T05:53:35.270Z","caller":"apps/server.go:167","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-14T05:53:35.270Z","caller":"apps/server.go:182","msg":"gRPC server listening on :50066"}
{"level":"info","ts":"2025-08-14T05:53:35.270Z","caller":"apps/server.go:174","msg":"Metrics server listening on :8096"}
{"level":"debug","ts":"2025-08-14T05:55:48.011Z","caller":"service/merchantBusinessQueryService.go:216","msg":"Start: FindAll"}
{"level":"debug","ts":"2025-08-14T05:55:48.027Z","caller":"redis/cache_helpers.go:51","msg":"Successfully cached data","cacheKey":"merchant_business:all:page:1:pageSize:10:search:","expiration":"5m0s"}
{"level":"debug","ts":"2025-08-14T05:55:48.028Z","caller":"service/merchantBusinessQueryService.go:230","msg":"Successfully fetched merchants","page":1,"pageSize":10,"search":""}
{"level":"info","ts":"2025-08-14T05:55:48.028Z","caller":"middleware/context.go:25","msg":"gRPC Request","method":"/pb.MerchantBusinessService/FindAll","request_id":"req_1755150948011203854_WHfXVT8K","duration":"17.313267ms"}
{"level":"debug","ts":"2025-08-14T11:16:13.890Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-14T11:16:13.913Z","caller":"apps/server.go:161","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-14T11:16:13.915Z","caller":"apps/server.go:176","msg":"gRPC server listening on :50066"}
{"level":"info","ts":"2025-08-14T11:16:13.915Z","caller":"apps/server.go:168","msg":"Metrics server listening on :8096"}
{"level":"debug","ts":"2025-08-14T11:40:40.107Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-14T11:40:40.119Z","caller":"apps/server.go:161","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-14T11:40:40.119Z","caller":"apps/server.go:176","msg":"gRPC server listening on :50066"}
{"level":"info","ts":"2025-08-14T11:40:40.119Z","caller":"apps/server.go:168","msg":"Metrics server listening on :8096"}
{"level":"debug","ts":"2025-08-14T15:57:29.359Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-14T15:57:29.376Z","caller":"apps/server.go:161","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-14T15:57:29.377Z","caller":"apps/server.go:176","msg":"gRPC server listening on :50066"}
{"level":"info","ts":"2025-08-14T15:57:29.377Z","caller":"apps/server.go:168","msg":"Metrics server listening on :8096"}
{"level":"debug","ts":"2025-08-14T16:08:12.453Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-14T16:08:12.467Z","caller":"apps/server.go:161","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-14T16:08:12.468Z","caller":"apps/server.go:168","msg":"Metrics server listening on :8096"}
{"level":"info","ts":"2025-08-14T16:08:12.468Z","caller":"apps/server.go:176","msg":"gRPC server listening on :50066"}
{"level":"debug","ts":"2025-08-14T22:19:19.319Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-14T22:19:19.352Z","caller":"apps/server.go:161","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-14T22:19:19.353Z","caller":"apps/server.go:176","msg":"gRPC server listening on :50066"}
{"level":"info","ts":"2025-08-14T22:19:19.353Z","caller":"apps/server.go:168","msg":"Metrics server listening on :8096"}
{"level":"debug","ts":"2025-08-14T22:34:09.921Z","caller":"service/merchantBusinessQueryService.go:216","msg":"Start: FindAll"}
{"level":"debug","ts":"2025-08-14T22:34:09.939Z","caller":"redis/cache_helpers.go:51","msg":"Successfully cached data","cacheKey":"merchant_business:all:page:1:pageSize:10:search:","expiration":"5m0s"}
{"level":"debug","ts":"2025-08-14T22:34:09.939Z","caller":"service/merchantBusinessQueryService.go:230","msg":"Successfully fetched merchants","page":1,"pageSize":10,"search":""}
{"level":"info","ts":"2025-08-14T22:34:09.939Z","caller":"middleware/context.go:25","msg":"gRPC Request","method":"/pb.MerchantBusinessService/FindAll","request_id":"req_1755210849921649973_s7B8PXED","duration":"17.627564ms"}
{"level":"debug","ts":"2025-08-14T22:34:20.394Z","caller":"service/merchantBusinessQueryService.go:216","msg":"Start: FindById"}
{"level":"debug","ts":"2025-08-14T22:34:20.398Z","caller":"redis/cache_helpers.go:51","msg":"Successfully cached data","cacheKey":"merchant_business:id:1","expiration":"5m0s"}
{"level":"debug","ts":"2025-08-14T22:34:20.398Z","caller":"service/merchantBusinessQueryService.go:230","msg":"Successfully fetched merchant","merchantBusiness.id":1}
{"level":"error","ts":"2025-08-14T22:34:20.399Z","caller":"middleware/recover.go:23","msg":"gRPC panic recovered","panic":"runtime error: invalid memory address or nil pointer dereference","method":"/pb.MerchantBusinessService/FindById","stack":"goroutine 198 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x5e\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.RecoveryMiddleware.func4.1()\n\t/app/internal/middleware/recover.go:26 +0x19c\npanic({0xe5dc40?, 0x1885c10?})\n\t/usr/local/go/src/runtime/panic.go:791 +0x132\ngithub.com/MamangRust/monolith-ecommerce-shared/mapper/proto.(*merchantBusinessProtoMapper).mapResponseMerchantBusiness(...)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/mapper/proto/merchant_business.go:69\ngithub.com/MamangRust/monolith-ecommerce-shared/mapper/proto.(*merchantBusinessProtoMapper).ToProtoResponseMerchantBusiness(0xc00042e620?, {0xfc7cbf, 0x7}, {0xfde84f, 0x1d}, 0xc000178780)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/mapper/proto/merchant_business.go:22 +0xc1\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/handler.(*merchantBusinessHandleGrpc).FindById(0xc000220100, {0x1141b38?, 0xc000641260?}, 0xf9a180?)\n\t/app/internal/handler/merchant.go:87 +0x96\ngithub.com/MamangRust/monolith-ecommerce-shared/pb._MerchantBusinessService_FindById_Handler.func1({0x1141b38?, 0xc000641260?}, {0xece2c0?, 0xc000640f60?})\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/pb/merchant_business_grpc.pb.go:282 +0xcb\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.ContextMiddleware.func5({0x1141b38?, 0xc000640f30?}, {0xece2c0, 0xc000640f60}, 0xc000312e60, 0xc000610ed0)\n\t/app/internal/middleware/context.go:21 +0x131\ngoogle.golang.org/grpc.getChainUnaryHandler.func1({0x1141b38, 0xc000640f30}, {0xece2c0, 0xc000640f60})\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1217 +0xb2\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.RecoveryMiddleware.func4({0x1141b38?, 0xc000640f30?}, {0xece2c0?, 0xc000640f60?}, 0xc000312e60?, 0xc000610ed0?)\n\t/app/internal/middleware/recover.go:33 +0x8e\ngoogle.golang.org/grpc.NewServer.chainUnaryServerInterceptors.chainUnaryInterceptors.func1({0x1141b38, 0xc000640f30}, {0xece2c0, 0xc000640f60}, 0xc000312e60, 0x80?)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1208 +0x85\ngithub.com/MamangRust/monolith-ecommerce-shared/pb._MerchantBusinessService_FindById_Handler({0xf6b880, 0xc000220100}, {0x1141b38, 0xc000640f30}, 0xc000178800, 0xc000430540)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/pb/merchant_business_grpc.pb.go:284 +0x143\ngoogle.golang.org/grpc.(*Server).processUnaryRPC(0xc00031e000, {0x1141b38, 0xc000640e10}, 0xc0005803c0, 0xc000308840, 0x189dcf8, 0x0)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1405 +0x103b\ngoogle.golang.org/grpc.(*Server).handleStream(0xc00031e000, {0x1142410, 0xc00033a4e0}, 0xc0005803c0)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1815 +0xbaa\ngoogle.golang.org/grpc.(*Server).serveStreams.func2.1()\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1035 +0x7f\ncreated by google.golang.org/grpc.(*Server).serveStreams.func2 in goroutine 583\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1046 +0x125\n"}
{"level":"debug","ts":"2025-08-14T22:44:05.283Z","caller":"service/merchantBusinessQueryService.go:216","msg":"Start: FindById"}
{"level":"debug","ts":"2025-08-14T22:44:05.287Z","caller":"redis/cache_helpers.go:51","msg":"Successfully cached data","cacheKey":"merchant_business:id:1","expiration":"5m0s"}
{"level":"debug","ts":"2025-08-14T22:44:05.287Z","caller":"service/merchantBusinessQueryService.go:230","msg":"Successfully fetched merchant","merchantBusiness.id":1}
{"level":"error","ts":"2025-08-14T22:44:05.288Z","caller":"middleware/recover.go:23","msg":"gRPC panic recovered","panic":"runtime error: invalid memory address or nil pointer dereference","method":"/pb.MerchantBusinessService/FindById","stack":"goroutine 868 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x5e\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.RecoveryMiddleware.func4.1()\n\t/app/internal/middleware/recover.go:26 +0x19c\npanic({0xe5dc40?, 0x1885c10?})\n\t/usr/local/go/src/runtime/panic.go:791 +0x132\ngithub.com/MamangRust/monolith-ecommerce-shared/mapper/proto.(*merchantBusinessProtoMapper).mapResponseMerchantBusiness(...)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/mapper/proto/merchant_business.go:69\ngithub.com/MamangRust/monolith-ecommerce-shared/mapper/proto.(*merchantBusinessProtoMapper).ToProtoResponseMerchantBusiness(0xc00042e620?, {0xfc7cbf, 0x7}, {0xfde84f, 0x1d}, 0xc00043a700)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/mapper/proto/merchant_business.go:22 +0xc1\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/handler.(*merchantBusinessHandleGrpc).FindById(0xc000220100, {0x1141b38?, 0xc00042d1d0?}, 0xf9a180?)\n\t/app/internal/handler/merchant.go:87 +0x96\ngithub.com/MamangRust/monolith-ecommerce-shared/pb._MerchantBusinessService_FindById_Handler.func1({0x1141b38?, 0xc00042d1d0?}, {0xece2c0?, 0xc00042d110?})\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/pb/merchant_business_grpc.pb.go:282 +0xcb\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.ContextMiddleware.func5({0x1141b38?, 0xc00042d0e0?}, {0xece2c0, 0xc00042d110}, 0xc00014eaa0, 0xc0000cb5f0)\n\t/app/internal/middleware/context.go:21 +0x131\ngoogle.golang.org/grpc.getChainUnaryHandler.func1({0x1141b38, 0xc00042d0e0}, {0xece2c0, 0xc00042d110})\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1217 +0xb2\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.RecoveryMiddleware.func4({0x1141b38?, 0xc00042d0e0?}, {0xece2c0?, 0xc00042d110?}, 0xc00014eaa0?, 0xc0000cb5f0?)\n\t/app/internal/middleware/recover.go:33 +0x8e\ngoogle.golang.org/grpc.NewServer.chainUnaryServerInterceptors.chainUnaryInterceptors.func1({0x1141b38, 0xc00042d0e0}, {0xece2c0, 0xc00042d110}, 0xc00014eaa0, 0x80?)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1208 +0x85\ngithub.com/MamangRust/monolith-ecommerce-shared/pb._MerchantBusinessService_FindById_Handler({0xf6b880, 0xc000220100}, {0x1141b38, 0xc00042d0e0}, 0xc00043a500, 0xc000430540)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/pb/merchant_business_grpc.pb.go:284 +0x143\ngoogle.golang.org/grpc.(*Server).processUnaryRPC(0xc00031e000, {0x1141b38, 0xc00042cfc0}, 0xc0009fa540, 0xc000308840, 0x189dcf8, 0x0)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1405 +0x103b\ngoogle.golang.org/grpc.(*Server).handleStream(0xc00031e000, {0x1142410, 0xc00033a4e0}, 0xc0009fa540)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1815 +0xbaa\ngoogle.golang.org/grpc.(*Server).serveStreams.func2.1()\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1035 +0x7f\ncreated by google.golang.org/grpc.(*Server).serveStreams.func2 in goroutine 583\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1046 +0x125\n"}
{"level":"debug","ts":"2025-08-14T22:50:28.386Z","caller":"service/merchantBusinessQueryService.go:216","msg":"Start: FindById"}
{"level":"debug","ts":"2025-08-14T22:50:28.409Z","caller":"redis/cache_helpers.go:51","msg":"Successfully cached data","cacheKey":"merchant_business:id:1","expiration":"5m0s"}
{"level":"debug","ts":"2025-08-14T22:50:28.409Z","caller":"service/merchantBusinessQueryService.go:230","msg":"Successfully fetched merchant","merchantBusiness.id":1}
{"level":"error","ts":"2025-08-14T22:50:28.410Z","caller":"middleware/recover.go:23","msg":"gRPC panic recovered","panic":"runtime error: invalid memory address or nil pointer dereference","method":"/pb.MerchantBusinessService/FindById","stack":"goroutine 1092 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x5e\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.RecoveryMiddleware.func4.1()\n\t/app/internal/middleware/recover.go:26 +0x19c\npanic({0xe5dc40?, 0x1885c10?})\n\t/usr/local/go/src/runtime/panic.go:791 +0x132\ngithub.com/MamangRust/monolith-ecommerce-shared/mapper/proto.(*merchantBusinessProtoMapper).mapResponseMerchantBusiness(...)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/mapper/proto/merchant_business.go:69\ngithub.com/MamangRust/monolith-ecommerce-shared/mapper/proto.(*merchantBusinessProtoMapper).ToProtoResponseMerchantBusiness(0xc00042e620?, {0xfc7cbf, 0x7}, {0xfde84f, 0x1d}, 0xc00043a680)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/mapper/proto/merchant_business.go:22 +0xc1\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/handler.(*merchantBusinessHandleGrpc).FindById(0xc000220100, {0x1141b38?, 0xc000640ab0?}, 0xf9a180?)\n\t/app/internal/handler/merchant.go:87 +0x96\ngithub.com/MamangRust/monolith-ecommerce-shared/pb._MerchantBusinessService_FindById_Handler.func1({0x1141b38?, 0xc000640ab0?}, {0xece2c0?, 0xc0006409f0?})\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/pb/merchant_business_grpc.pb.go:282 +0xcb\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.ContextMiddleware.func5({0x1141b38?, 0xc0006409c0?}, {0xece2c0, 0xc0006409f0}, 0xc00014e5a0, 0xc0004427e0)\n\t/app/internal/middleware/context.go:21 +0x131\ngoogle.golang.org/grpc.getChainUnaryHandler.func1({0x1141b38, 0xc0006409c0}, {0xece2c0, 0xc0006409f0})\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1217 +0xb2\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.RecoveryMiddleware.func4({0x1141b38?, 0xc0006409c0?}, {0xece2c0?, 0xc0006409f0?}, 0xc00014e5a0?, 0xc0004427e0?)\n\t/app/internal/middleware/recover.go:33 +0x8e\ngoogle.golang.org/grpc.NewServer.chainUnaryServerInterceptors.chainUnaryInterceptors.func1({0x1141b38, 0xc0006409c0}, {0xece2c0, 0xc0006409f0}, 0xc00014e5a0, 0x80?)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1208 +0x85\ngithub.com/MamangRust/monolith-ecommerce-shared/pb._MerchantBusinessService_FindById_Handler({0xf6b880, 0xc000220100}, {0x1141b38, 0xc0006409c0}, 0xc00043a100, 0xc000430540)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/pb/merchant_business_grpc.pb.go:284 +0x143\ngoogle.golang.org/grpc.(*Server).processUnaryRPC(0xc00031e000, {0x1141b38, 0xc0006408a0}, 0xc0004c99e0, 0xc000308840, 0x189dcf8, 0x0)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1405 +0x103b\ngoogle.golang.org/grpc.(*Server).handleStream(0xc00031e000, {0x1142410, 0xc00033a4e0}, 0xc0004c99e0)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1815 +0xbaa\ngoogle.golang.org/grpc.(*Server).serveStreams.func2.1()\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1035 +0x7f\ncreated by google.golang.org/grpc.(*Server).serveStreams.func2 in goroutine 583\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1046 +0x125\n"}
{"level":"debug","ts":"2025-08-14T22:57:24.445Z","caller":"service/merchantBusinessQueryService.go:216","msg":"Start: FindById"}
{"level":"debug","ts":"2025-08-14T22:57:24.450Z","caller":"redis/cache_helpers.go:51","msg":"Successfully cached data","cacheKey":"merchant_business:id:1","expiration":"5m0s"}
{"level":"debug","ts":"2025-08-14T22:57:24.450Z","caller":"service/merchantBusinessQueryService.go:230","msg":"Successfully fetched merchant","merchantBusiness.id":1}
{"level":"error","ts":"2025-08-14T22:57:24.451Z","caller":"middleware/recover.go:23","msg":"gRPC panic recovered","panic":"runtime error: invalid memory address or nil pointer dereference","method":"/pb.MerchantBusinessService/FindById","stack":"goroutine 1307 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x5e\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.RecoveryMiddleware.func4.1()\n\t/app/internal/middleware/recover.go:26 +0x19c\npanic({0xe5dc40?, 0x1885c10?})\n\t/usr/local/go/src/runtime/panic.go:791 +0x132\ngithub.com/MamangRust/monolith-ecommerce-shared/mapper/proto.(*merchantBusinessProtoMapper).mapResponseMerchantBusiness(...)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/mapper/proto/merchant_business.go:69\ngithub.com/MamangRust/monolith-ecommerce-shared/mapper/proto.(*merchantBusinessProtoMapper).ToProtoResponseMerchantBusiness(0xc00042e620?, {0xfc7cbf, 0x7}, {0xfde84f, 0x1d}, 0xc000240700)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/mapper/proto/merchant_business.go:22 +0xc1\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/handler.(*merchantBusinessHandleGrpc).FindById(0xc000220100, {0x1141b38?, 0xc00068cf00?}, 0xf9a180?)\n\t/app/internal/handler/merchant.go:87 +0x96\ngithub.com/MamangRust/monolith-ecommerce-shared/pb._MerchantBusinessService_FindById_Handler.func1({0x1141b38?, 0xc00068cf00?}, {0xece2c0?, 0xc00068ce40?})\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/pb/merchant_business_grpc.pb.go:282 +0xcb\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.ContextMiddleware.func5({0x1141b38?, 0xc00068ce10?}, {0xece2c0, 0xc00068ce40}, 0xc00052cce0, 0xc000611e48)\n\t/app/internal/middleware/context.go:21 +0x131\ngoogle.golang.org/grpc.getChainUnaryHandler.func1({0x1141b38, 0xc00068ce10}, {0xece2c0, 0xc00068ce40})\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1217 +0xb2\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.RecoveryMiddleware.func4({0x1141b38?, 0xc00068ce10?}, {0xece2c0?, 0xc00068ce40?}, 0xc00052cce0?, 0xc000611e48?)\n\t/app/internal/middleware/recover.go:33 +0x8e\ngoogle.golang.org/grpc.NewServer.chainUnaryServerInterceptors.chainUnaryInterceptors.func1({0x1141b38, 0xc00068ce10}, {0xece2c0, 0xc00068ce40}, 0xc00052cce0, 0x80?)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1208 +0x85\ngithub.com/MamangRust/monolith-ecommerce-shared/pb._MerchantBusinessService_FindById_Handler({0xf6b880, 0xc000220100}, {0x1141b38, 0xc00068ce10}, 0xc000240580, 0xc000430540)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/pb/merchant_business_grpc.pb.go:284 +0x143\ngoogle.golang.org/grpc.(*Server).processUnaryRPC(0xc00031e000, {0x1141b38, 0xc00068ccf0}, 0xc000911740, 0xc000308840, 0x189dcf8, 0x0)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1405 +0x103b\ngoogle.golang.org/grpc.(*Server).handleStream(0xc00031e000, {0x1142410, 0xc00033a4e0}, 0xc000911740)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1815 +0xbaa\ngoogle.golang.org/grpc.(*Server).serveStreams.func2.1()\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1035 +0x7f\ncreated by google.golang.org/grpc.(*Server).serveStreams.func2 in goroutine 583\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1046 +0x125\n"}
{"level":"debug","ts":"2025-08-14T23:01:30.193Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-14T23:01:30.197Z","caller":"apps/server.go:161","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-14T23:01:30.197Z","caller":"apps/server.go:176","msg":"gRPC server listening on :50066"}
{"level":"info","ts":"2025-08-14T23:01:30.197Z","caller":"apps/server.go:168","msg":"Metrics server listening on :8096"}
{"level":"debug","ts":"2025-08-14T23:01:40.649Z","caller":"service/merchantBusinessQueryService.go:216","msg":"Start: FindById"}
{"level":"debug","ts":"2025-08-14T23:01:40.652Z","caller":"service/merchantBusinessQueryService.go:230","msg":"Successfully fetched merchant from cache","merchantBusiness.id":1}
{"level":"error","ts":"2025-08-14T23:01:40.654Z","caller":"middleware/recover.go:23","msg":"gRPC panic recovered","panic":"runtime error: invalid memory address or nil pointer dereference","method":"/pb.MerchantBusinessService/FindById","stack":"goroutine 20 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x5e\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.RecoveryMiddleware.func4.1()\n\t/app/internal/middleware/recover.go:26 +0x19c\npanic({0xe5dc40?, 0x1885c10?})\n\t/usr/local/go/src/runtime/panic.go:791 +0x132\ngithub.com/MamangRust/monolith-ecommerce-shared/mapper/proto.(*merchantBusinessProtoMapper).mapResponseMerchantBusiness(...)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/mapper/proto/merchant_business.go:69\ngithub.com/MamangRust/monolith-ecommerce-shared/mapper/proto.(*merchantBusinessProtoMapper).ToProtoResponseMerchantBusiness(0xc0004a4460?, {0xfc7cbf, 0x7}, {0xfde834, 0x1d}, 0xc000430200)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/mapper/proto/merchant_business.go:22 +0xc1\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/handler.(*merchantBusinessHandleGrpc).FindById(0xc00048c140, {0x1141b18?, 0xc000618060?}, 0xf9a180?)\n\t/app/internal/handler/merchant.go:87 +0x96\ngithub.com/MamangRust/monolith-ecommerce-shared/pb._MerchantBusinessService_FindById_Handler.func1({0x1141b18?, 0xc000618060?}, {0xece2c0?, 0xc000618840?})\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/pb/merchant_business_grpc.pb.go:282 +0xcb\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.ContextMiddleware.func5({0x1141b18?, 0xc000618810?}, {0xece2c0, 0xc000618840}, 0xc000424000, 0xc000010b88)\n\t/app/internal/middleware/context.go:21 +0x131\ngoogle.golang.org/grpc.getChainUnaryHandler.func1({0x1141b18, 0xc000618810}, {0xece2c0, 0xc000618840})\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1217 +0xb2\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.RecoveryMiddleware.func4({0x1141b18?, 0xc000618810?}, {0xece2c0?, 0xc000618840?}, 0xc000424000?, 0xc000010b88?)\n\t/app/internal/middleware/recover.go:33 +0x8e\ngoogle.golang.org/grpc.NewServer.chainUnaryServerInterceptors.chainUnaryInterceptors.func1({0x1141b18, 0xc000618810}, {0xece2c0, 0xc000618840}, 0xc000424000, 0x80?)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1208 +0x85\ngithub.com/MamangRust/monolith-ecommerce-shared/pb._MerchantBusinessService_FindById_Handler({0xf6b880, 0xc00048c140}, {0x1141b18, 0xc000618810}, 0xc000430280, 0xc0004a8440)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/pb/merchant_business_grpc.pb.go:284 +0x143\ngoogle.golang.org/grpc.(*Server).processUnaryRPC(0xc0004cc000, {0x1141b18, 0xc0006186f0}, 0xc0001bd620, 0xc000480690, 0x189dcd8, 0x0)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1405 +0x103b\ngoogle.golang.org/grpc.(*Server).handleStream(0xc0004cc000, {0x11423f0, 0xc00014a000}, 0xc0001bd620)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1815 +0xbaa\ngoogle.golang.org/grpc.(*Server).serveStreams.func2.1()\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1035 +0x7f\ncreated by google.golang.org/grpc.(*Server).serveStreams.func2 in goroutine 100\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1046 +0x125\n"}
{"level":"debug","ts":"2025-08-14T23:09:03.067Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-14T23:09:03.070Z","caller":"apps/server.go:161","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-14T23:09:03.070Z","caller":"apps/server.go:176","msg":"gRPC server listening on :50066"}
{"level":"info","ts":"2025-08-14T23:09:03.070Z","caller":"apps/server.go:168","msg":"Metrics server listening on :8096"}
{"level":"debug","ts":"2025-08-14T23:09:16.109Z","caller":"service/merchantBusinessQueryService.go:221","msg":"Start: FindById"}
{"level":"error","ts":"2025-08-14T23:09:16.114Z","caller":"service/merchantBusinessQueryService.go:186","msg":"error repository"}
{"level":"error","ts":"2025-08-14T23:09:16.115Z","caller":"service/merchantBusinessQueryService.go:194","msg":"errror parsing","so":{"id":1,"merchant_id":1,"business_type":"Toko Elektronik","tax_id":"01.234.567.8-999.000","established_year":2010,"number_of_employees":15,"website_url":"https://technostore.com","merchant_name":null,"created_at":"2025-08-13 03:16:44.690","updated_at":"2025-08-13 03:16:44.690"}}
{"level":"debug","ts":"2025-08-14T23:09:16.118Z","caller":"redis/cache_helpers.go:51","msg":"Successfully cached data","cacheKey":"merchant_business:id:1","expiration":"5m0s"}
{"level":"debug","ts":"2025-08-14T23:09:16.118Z","caller":"service/merchantBusinessQueryService.go:235","msg":"Successfully fetched merchant","merchantBusiness.id":1}
{"level":"error","ts":"2025-08-14T23:09:16.119Z","caller":"middleware/recover.go:23","msg":"gRPC panic recovered","panic":"runtime error: invalid memory address or nil pointer dereference","method":"/pb.MerchantBusinessService/FindById","stack":"goroutine 32 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x5e\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.RecoveryMiddleware.func4.1()\n\t/app/internal/middleware/recover.go:26 +0x19c\npanic({0xe5dc40?, 0x1886c10?})\n\t/usr/local/go/src/runtime/panic.go:791 +0x132\ngithub.com/MamangRust/monolith-ecommerce-shared/mapper/proto.(*merchantBusinessProtoMapper).mapResponseMerchantBusiness(...)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/mapper/proto/merchant_business.go:69\ngithub.com/MamangRust/monolith-ecommerce-shared/mapper/proto.(*merchantBusinessProtoMapper).ToProtoResponseMerchantBusiness(0xc0002025b0?, {0xfc7cc1, 0x7}, {0xfde854, 0x1d}, 0xc0003e2480)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/mapper/proto/merchant_business.go:22 +0xc1\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/handler.(*merchantBusinessHandleGrpc).FindById(0xc00024e140, {0x1141b78?, 0xc0002074a0?}, 0xf9a180?)\n\t/app/internal/handler/merchant.go:87 +0x96\ngithub.com/MamangRust/monolith-ecommerce-shared/pb._MerchantBusinessService_FindById_Handler.func1({0x1141b78?, 0xc0002074a0?}, {0xece2c0?, 0xc000206f60?})\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/pb/merchant_business_grpc.pb.go:282 +0xcb\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.ContextMiddleware.func5({0x1141b78?, 0xc000206f30?}, {0xece2c0, 0xc000206f60}, 0xc000240280, 0xc000258390)\n\t/app/internal/middleware/context.go:21 +0x131\ngoogle.golang.org/grpc.getChainUnaryHandler.func1({0x1141b78, 0xc000206f30}, {0xece2c0, 0xc000206f60})\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1217 +0xb2\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.RecoveryMiddleware.func4({0x1141b78?, 0xc000206f30?}, {0xece2c0?, 0xc000206f60?}, 0xc000240280?, 0xc000258390?)\n\t/app/internal/middleware/recover.go:33 +0x8e\ngoogle.golang.org/grpc.NewServer.chainUnaryServerInterceptors.chainUnaryInterceptors.func1({0x1141b78, 0xc000206f30}, {0xece2c0, 0xc000206f60}, 0xc000240280, 0x80?)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1208 +0x85\ngithub.com/MamangRust/monolith-ecommerce-shared/pb._MerchantBusinessService_FindById_Handler({0xf6b880, 0xc00024e140}, {0x1141b78, 0xc000206f30}, 0xc0003e2200, 0xc000240460)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/pb/merchant_business_grpc.pb.go:284 +0x143\ngoogle.golang.org/grpc.(*Server).processUnaryRPC(0xc000274000, {0x1141b78, 0xc000206e10}, 0xc0002004e0, 0xc000206780, 0x189ecd8, 0x0)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1405 +0x103b\ngoogle.golang.org/grpc.(*Server).handleStream(0xc000274000, {0x1142450, 0xc00010e000}, 0xc0002004e0)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1815 +0xbaa\ngoogle.golang.org/grpc.(*Server).serveStreams.func2.1()\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1035 +0x7f\ncreated by google.golang.org/grpc.(*Server).serveStreams.func2 in goroutine 31\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1046 +0x125\n"}
{"level":"debug","ts":"2025-08-14T23:25:49.966Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-14T23:25:49.969Z","caller":"apps/server.go:162","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-14T23:25:49.969Z","caller":"apps/server.go:177","msg":"gRPC server listening on :50066"}
{"level":"info","ts":"2025-08-14T23:25:49.969Z","caller":"apps/server.go:169","msg":"Metrics server listening on :8096"}
{"level":"debug","ts":"2025-08-14T23:26:09.975Z","caller":"service/merchantBusinessQueryService.go:221","msg":"Start: FindById"}
{"level":"error","ts":"2025-08-14T23:26:09.979Z","caller":"service/merchantBusinessQueryService.go:186","msg":"error repository"}
{"level":"error","ts":"2025-08-14T23:26:09.979Z","caller":"service/merchantBusinessQueryService.go:194","msg":"errror parsing","so":{"id":1,"merchant_id":1,"business_type":"Toko Elektronik","tax_id":"01.234.567.8-999.000","established_year":2010,"number_of_employees":15,"website_url":"https://technostore.com","merchant_name":null,"created_at":"2025-08-13 03:16:44.690","updated_at":"2025-08-13 03:16:44.690"}}
{"level":"debug","ts":"2025-08-14T23:26:09.983Z","caller":"redis/cache_helpers.go:51","msg":"Successfully cached data","cacheKey":"merchant_business:id:1","expiration":"5m0s"}
{"level":"debug","ts":"2025-08-14T23:26:09.983Z","caller":"service/merchantBusinessQueryService.go:235","msg":"Successfully fetched merchant","merchantBusiness.id":1}
{"level":"debug","ts":"2025-08-14T23:26:09.983Z","caller":"handler/merchant.go:88","msg":"error service","error":null}
{"level":"error","ts":"2025-08-14T23:26:09.983Z","caller":"middleware/recover.go:23","msg":"gRPC panic recovered","panic":"runtime error: invalid memory address or nil pointer dereference","method":"/pb.MerchantBusinessService/FindById","stack":"goroutine 61 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x5e\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.RecoveryMiddleware.func4.1()\n\t/app/internal/middleware/recover.go:26 +0x19c\npanic({0xe5dc40?, 0x1886c10?})\n\t/usr/local/go/src/runtime/panic.go:791 +0x132\ngithub.com/MamangRust/monolith-ecommerce-shared/mapper/proto.(*merchantBusinessProtoMapper).mapResponseMerchantBusiness(...)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/mapper/proto/merchant_business.go:69\ngithub.com/MamangRust/monolith-ecommerce-shared/mapper/proto.(*merchantBusinessProtoMapper).ToProtoResponseMerchantBusiness(0xfbedb5?, {0xfc7cc1, 0x7}, {0xfde86f, 0x1d}, 0xc00042a480)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/mapper/proto/merchant_business.go:22 +0xc1\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/handler.(*merchantBusinessHandleGrpc).FindById(0xc00017fa90, {0x1141bb8?, 0xc0003b2ea0?}, 0xf9a180?)\n\t/app/internal/handler/merchant.go:94 +0x1c5\ngithub.com/MamangRust/monolith-ecommerce-shared/pb._MerchantBusinessService_FindById_Handler.func1({0x1141bb8?, 0xc0003b2ea0?}, {0xece2c0?, 0xc0003b2960?})\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/pb/merchant_business_grpc.pb.go:282 +0xcb\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.ContextMiddleware.func5({0x1141bb8?, 0xc0003b2930?}, {0xece2c0, 0xc0003b2960}, 0xc000420120, 0xc000434288)\n\t/app/internal/middleware/context.go:21 +0x131\ngoogle.golang.org/grpc.getChainUnaryHandler.func1({0x1141bb8, 0xc0003b2930}, {0xece2c0, 0xc0003b2960})\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1217 +0xb2\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.RecoveryMiddleware.func4({0x1141bb8?, 0xc0003b2930?}, {0xece2c0?, 0xc0003b2960?}, 0xc000420120?, 0xc000434288?)\n\t/app/internal/middleware/recover.go:33 +0x8e\ngoogle.golang.org/grpc.NewServer.chainUnaryServerInterceptors.chainUnaryInterceptors.func1({0x1141bb8, 0xc0003b2930}, {0xece2c0, 0xc0003b2960}, 0xc000420120, 0x80?)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1208 +0x85\ngithub.com/MamangRust/monolith-ecommerce-shared/pb._MerchantBusinessService_FindById_Handler({0xf6b880, 0xc00017fa90}, {0x1141bb8, 0xc0003b2930}, 0xc00042a180, 0xc000263860)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/pb/merchant_business_grpc.pb.go:284 +0x143\ngoogle.golang.org/grpc.(*Server).processUnaryRPC(0xc00021a800, {0x1141bb8, 0xc0003b2810}, 0xc00030ce40, 0xc00031f7a0, 0x189ecd8, 0x0)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1405 +0x103b\ngoogle.golang.org/grpc.(*Server).handleStream(0xc00021a800, {0x1142490, 0xc000176000}, 0xc00030ce40)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1815 +0xbaa\ngoogle.golang.org/grpc.(*Server).serveStreams.func2.1()\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1035 +0x7f\ncreated by google.golang.org/grpc.(*Server).serveStreams.func2 in goroutine 9\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1046 +0x125\n"}
{"level":"debug","ts":"2025-08-14T23:53:11.062Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-14T23:53:11.069Z","caller":"apps/server.go:162","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-14T23:53:11.069Z","caller":"apps/server.go:177","msg":"gRPC server listening on :50066"}
{"level":"info","ts":"2025-08-14T23:53:11.069Z","caller":"apps/server.go:169","msg":"Metrics server listening on :8096"}
{"level":"debug","ts":"2025-08-14T23:53:56.805Z","caller":"service/merchantBusinessQueryService.go:221","msg":"Start: FindById"}
{"level":"error","ts":"2025-08-14T23:53:56.810Z","caller":"service/merchantBusinessQueryService.go:186","msg":"error repository"}
{"level":"error","ts":"2025-08-14T23:53:56.810Z","caller":"service/merchantBusinessQueryService.go:194","msg":"errror parsing","so":{"id":1,"merchant_id":1,"business_type":"Toko Elektronik","tax_id":"01.234.567.8-999.000","established_year":2010,"number_of_employees":15,"website_url":"https://technostore.com","merchant_name":null,"created_at":"2025-08-13 03:16:44.690","updated_at":"2025-08-13 03:16:44.690"}}
{"level":"debug","ts":"2025-08-14T23:53:56.811Z","caller":"redis/cache_helpers.go:51","msg":"Successfully cached data","cacheKey":"merchant_business:id:1","expiration":"5m0s"}
{"level":"debug","ts":"2025-08-14T23:53:56.811Z","caller":"service/merchantBusinessQueryService.go:235","msg":"Successfully fetched merchant","merchantBusiness.id":1}
{"level":"debug","ts":"2025-08-14T23:53:56.811Z","caller":"handler/merchant.go:88","msg":"error service","error":null}
{"level":"error","ts":"2025-08-14T23:53:56.812Z","caller":"middleware/recover.go:23","msg":"gRPC panic recovered","panic":"runtime error: invalid memory address or nil pointer dereference","method":"/pb.MerchantBusinessService/FindById","stack":"goroutine 113 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x5e\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.RecoveryMiddleware.func4.1()\n\t/app/internal/middleware/recover.go:26 +0x19c\npanic({0xe5dc40?, 0x1886c10?})\n\t/usr/local/go/src/runtime/panic.go:791 +0x132\ngithub.com/MamangRust/monolith-ecommerce-shared/mapper/proto.(*merchantBusinessProtoMapper).mapResponseMerchantBusiness(...)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/mapper/proto/merchant_business.go:69\ngithub.com/MamangRust/monolith-ecommerce-shared/mapper/proto.(*merchantBusinessProtoMapper).ToProtoResponseMerchantBusiness(0xfbedb5?, {0xfc7cc1, 0x7}, {0xfde88a, 0x1d}, 0xc000174500)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/mapper/proto/merchant_business.go:22 +0xc1\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/handler.(*merchantBusinessHandleGrpc).FindById(0xc0000ee140, {0x1141bd8?, 0xc0000ba480?}, 0xf9a180?)\n\t/app/internal/handler/merchant.go:94 +0x1c5\ngithub.com/MamangRust/monolith-ecommerce-shared/pb._MerchantBusinessService_FindById_Handler.func1({0x1141bd8?, 0xc0000ba480?}, {0xece2c0?, 0xc00010de30?})\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/pb/merchant_business_grpc.pb.go:282 +0xcb\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.ContextMiddleware.func5({0x1141bd8?, 0xc00010de00?}, {0xece2c0, 0xc00010de30}, 0xc0000b4040, 0xc000010d98)\n\t/app/internal/middleware/context.go:21 +0x131\ngoogle.golang.org/grpc.getChainUnaryHandler.func1({0x1141bd8, 0xc00010de00}, {0xece2c0, 0xc00010de30})\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1217 +0xb2\ngithub.com/MamangRust/monolith-ecommerce-grpc-merchant_business/internal/apps.(*Server).Run.RecoveryMiddleware.func4({0x1141bd8?, 0xc00010de00?}, {0xece2c0?, 0xc00010de30?}, 0xc0000b4040?, 0xc000010d98?)\n\t/app/internal/middleware/recover.go:33 +0x8e\ngoogle.golang.org/grpc.NewServer.chainUnaryServerInterceptors.chainUnaryInterceptors.func1({0x1141bd8, 0xc00010de00}, {0xece2c0, 0xc00010de30}, 0xc0000b4040, 0x80?)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1208 +0x85\ngithub.com/MamangRust/monolith-ecommerce-shared/pb._MerchantBusinessService_FindById_Handler({0xf6b880, 0xc0000ee140}, {0x1141bd8, 0xc00010de00}, 0xc0002ce280, 0xc0000b4460)\n\t/go/pkg/mod/github.com/!mamang!rust/monolith-ecommerce-shared@v1.0.15/pb/merchant_business_grpc.pb.go:284 +0x143\ngoogle.golang.org/grpc.(*Server).processUnaryRPC(0xc0000fc000, {0x1141bd8, 0xc00010db00}, 0xc0000b08a0, 0xc0000ba6c0, 0x189ecf8, 0x0)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1405 +0x103b\ngoogle.golang.org/grpc.(*Server).handleStream(0xc0000fc000, {0x11424b0, 0xc00014a000}, 0xc0000b08a0)\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1815 +0xbaa\ngoogle.golang.org/grpc.(*Server).serveStreams.func2.1()\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1035 +0x7f\ncreated by google.golang.org/grpc.(*Server).serveStreams.func2 in goroutine 16\n\t/go/pkg/mod/google.golang.org/grpc@v1.72.1/server.go:1046 +0x125\n"}
{"level":"debug","ts":"2025-08-15T00:10:47.805Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-15T00:10:47.810Z","caller":"apps/server.go:162","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-15T00:10:47.811Z","caller":"apps/server.go:177","msg":"gRPC server listening on :50066"}
{"level":"info","ts":"2025-08-15T00:10:47.811Z","caller":"apps/server.go:169","msg":"Metrics server listening on :8096"}
{"level":"debug","ts":"2025-08-15T00:11:04.196Z","caller":"service/merchantBusinessQueryService.go:221","msg":"Start: FindById"}
{"level":"error","ts":"2025-08-15T00:11:04.201Z","caller":"service/merchantBusinessQueryService.go:186","msg":"error repository"}
{"level":"error","ts":"2025-08-15T00:11:04.202Z","caller":"service/merchantBusinessQueryService.go:194","msg":"errror parsing","so":{"id":1,"merchant_id":1,"business_type":"Toko Elektronik","tax_id":"01.234.567.8-999.000","established_year":2010,"number_of_employees":15,"website_url":"https://technostore.com","merchant_name":null,"created_at":"2025-08-13 03:16:44.690","updated_at":"2025-08-13 03:16:44.690"}}
{"level":"debug","ts":"2025-08-15T00:11:04.202Z","caller":"redis/cache_helpers.go:51","msg":"Successfully cached data","cacheKey":"merchant_business:id:1","expiration":"5m0s"}
{"level":"debug","ts":"2025-08-15T00:11:04.202Z","caller":"service/merchantBusinessQueryService.go:235","msg":"Successfully fetched merchant","merchantBusiness.id":1}
{"level":"debug","ts":"2025-08-15T00:11:04.202Z","caller":"handler/merchant.go:88","msg":"error service","error":null}
{"level":"debug","ts":"2025-08-15T00:11:04.203Z","caller":"handler/merchant.go:96","msg":"error response","error":null}
{"level":"info","ts":"2025-08-15T00:11:04.203Z","caller":"middleware/context.go:25","msg":"gRPC Request","method":"/pb.MerchantBusinessService/FindById","request_id":"req_1755216664196226424_QCCOn8Ox","duration":"6.895479ms"}
{"level":"debug","ts":"2025-08-15T00:11:15.153Z","caller":"service/merchantBusinessQueryService.go:221","msg":"Start: FindByActive"}
{"level":"debug","ts":"2025-08-15T00:11:15.161Z","caller":"redis/cache_helpers.go:51","msg":"Successfully cached data","cacheKey":"merchant_business:active:page:1:pageSize:5:search:active","expiration":"5m0s"}
{"level":"debug","ts":"2025-08-15T00:11:15.162Z","caller":"service/merchantBusinessQueryService.go:235","msg":"Successfully fetched active merchants","page":1,"pageSize":5,"search":"active"}
{"level":"info","ts":"2025-08-15T00:11:15.162Z","caller":"middleware/context.go:25","msg":"gRPC Request","method":"/pb.MerchantBusinessService/FindByActive","request_id":"req_1755216675153955377_wtajyIbm","duration":"8.233862ms"}
{"level":"debug","ts":"2025-08-15T00:11:24.304Z","caller":"service/merchantBusinessQueryService.go:221","msg":"Start: FindByTrashed"}
{"level":"debug","ts":"2025-08-15T00:11:24.308Z","caller":"redis/cache_helpers.go:51","msg":"Successfully cached data","cacheKey":"merchant_business:trashed:page:1:pageSize:5:search:deleted","expiration":"5m0s"}
{"level":"debug","ts":"2025-08-15T00:11:24.308Z","caller":"service/merchantBusinessQueryService.go:235","msg":"Successfully fetched trashed merchants","page":1,"pageSize":5,"search":"deleted"}
{"level":"info","ts":"2025-08-15T00:11:24.308Z","caller":"middleware/context.go:25","msg":"gRPC Request","method":"/pb.MerchantBusinessService/FindByTrashed","request_id":"req_1755216684304359107_qM8vAVMs","duration":"3.858497ms"}
{"level":"debug","ts":"2025-08-15T00:12:06.445Z","caller":"service/merchantBusinessCommandService.go:245","msg":"Start: CreateMerchant"}
{"level":"debug","ts":"2025-08-15T00:12:06.448Z","caller":"service/merchantBusinessCommandService.go:259","msg":"Created merchant","merchantBusiness.id":10}
{"level":"info","ts":"2025-08-15T00:12:06.448Z","caller":"middleware/context.go:25","msg":"gRPC Request","method":"/pb.MerchantBusinessService/Create","request_id":"req_1755216726442837478_16iNxLDW","duration":"5.741232ms"}
{"level":"debug","ts":"2025-08-15T00:12:30.597Z","caller":"service/merchantBusinessCommandService.go:245","msg":"Start: UpdateMerchant"}
{"level":"debug","ts":"2025-08-15T00:12:30.601Z","caller":"service/merchantBusinessCommandService.go:259","msg":"Updated merchant","merchantBusiness.id":9}
{"level":"info","ts":"2025-08-15T00:12:30.601Z","caller":"middleware/context.go:25","msg":"gRPC Request","method":"/pb.MerchantBusinessService/Update","request_id":"req_1755216750597498789_8UN95pja","duration":"4.098406ms"}
{"level":"info","ts":"2025-08-15T00:12:50.348Z","caller":"middleware/context.go:25","msg":"gRPC Request","method":"/pb.MerchantBusinessService/TrashedMerchantBusiness","request_id":"req_1755216770348639340_WSEgvUSe","duration":"4.56µs","error":"rpc error: code = Unimplemented desc = method TrashedMerchantBusiness not implemented"}
{"level":"debug","ts":"2025-08-15T00:19:18.827Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-15T00:19:18.831Z","caller":"apps/server.go:162","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-15T00:19:18.832Z","caller":"apps/server.go:177","msg":"gRPC server listening on :50066"}
{"level":"info","ts":"2025-08-15T00:19:18.832Z","caller":"apps/server.go:169","msg":"Metrics server listening on :8096"}
{"level":"debug","ts":"2025-08-15T00:51:49.618Z","caller":"service/merchantBusinessCommandService.go:245","msg":"Start: TrashedMerchant"}
{"level":"debug","ts":"2025-08-15T00:51:49.639Z","caller":"service/merchantBusinessCommandService.go:259","msg":"Trashed merchant","merchantBusiness.id":9}
{"level":"info","ts":"2025-08-15T00:51:49.640Z","caller":"middleware/context.go:25","msg":"gRPC Request","method":"/pb.MerchantBusinessService/TrashedMerchantBusiness","request_id":"req_1755219109618709329_rlvYVpPK","duration":"21.418041ms"}
{"level":"debug","ts":"2025-08-15T00:57:15.547Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-15T00:57:15.555Z","caller":"apps/server.go:162","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-15T00:57:15.555Z","caller":"apps/server.go:177","msg":"gRPC server listening on :50066"}
{"level":"info","ts":"2025-08-15T00:57:15.555Z","caller":"apps/server.go:169","msg":"Metrics server listening on :8096"}
{"level":"debug","ts":"2025-08-18T06:35:18.482Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-18T06:35:18.504Z","caller":"apps/server.go:162","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-18T06:35:18.505Z","caller":"apps/server.go:177","msg":"gRPC server listening on :50066"}
{"level":"info","ts":"2025-08-18T06:35:18.505Z","caller":"apps/server.go:169","msg":"Metrics server listening on :8096"}
{"level":"debug","ts":"2025-08-24T06:59:48.205Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-24T06:59:48.233Z","caller":"apps/server.go:162","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-24T06:59:48.237Z","caller":"apps/server.go:169","msg":"Metrics server listening on :8096"}
{"level":"info","ts":"2025-08-24T06:59:48.237Z","caller":"apps/server.go:177","msg":"gRPC server listening on :50066"}
{"level":"debug","ts":"2025-08-24T16:25:32.189Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-24T16:25:32.217Z","caller":"apps/server.go:162","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-24T16:25:32.218Z","caller":"apps/server.go:177","msg":"gRPC server listening on :50066"}
{"level":"info","ts":"2025-08-24T16:25:32.221Z","caller":"apps/server.go:169","msg":"Metrics server listening on :8096"}
{"level":"debug","ts":"2025-08-24T17:47:51.527Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-24T17:47:51.537Z","caller":"apps/server.go:162","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-24T17:47:51.537Z","caller":"apps/server.go:177","msg":"gRPC server listening on :50066"}
{"level":"info","ts":"2025-08-24T17:47:51.537Z","caller":"apps/server.go:169","msg":"Metrics server listening on :8096"}
{"level":"debug","ts":"2025-08-25T08:07:37.838Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-25T08:07:37.881Z","caller":"apps/server.go:162","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-25T08:07:37.881Z","caller":"apps/server.go:177","msg":"gRPC server listening on :50066"}
{"level":"info","ts":"2025-08-25T08:07:37.881Z","caller":"apps/server.go:169","msg":"Metrics server listening on :8096"}
{"level":"debug","ts":"2025-08-25T11:40:56.431Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-25T11:40:56.443Z","caller":"apps/server.go:162","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-25T11:40:56.443Z","caller":"apps/server.go:177","msg":"gRPC server listening on :50066"}
{"level":"info","ts":"2025-08-25T11:40:56.443Z","caller":"apps/server.go:169","msg":"Metrics server listening on :8096"}
{"level":"info","ts":"2025-08-25T13:19:56.309Z","caller":"handler/merchant.go:234","msg":"Creating merchant business information","merchant_id":9,"business_type":"Restaurant","established_year":2010}
{"level":"debug","ts":"2025-08-25T13:19:56.310Z","caller":"service/merchantBusinessCommandService.go:245","msg":"Start: CreateMerchant"}
{"level":"debug","ts":"2025-08-25T13:19:56.332Z","caller":"service/merchantBusinessCommandService.go:259","msg":"Created merchant","merchantBusiness.id":9}
{"level":"info","ts":"2025-08-25T13:19:56.332Z","caller":"handler/merchant.go:268","msg":"Merchant business information created successfully","business_info_id":10,"merchant_id":9,"business_type":"Restaurant"}
{"level":"info","ts":"2025-08-25T13:19:56.333Z","caller":"middleware/context.go:25","msg":"gRPC Request","method":"/pb.MerchantBusinessService/Create","request_id":"req_1756127996309474662_9kJvBiRI","duration":"23.778167ms"}
{"level":"debug","ts":"2025-08-25T13:48:14.540Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-25T13:48:14.558Z","caller":"apps/server.go:162","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-25T13:48:14.561Z","caller":"apps/server.go:169","msg":"Metrics server listening on :8096"}
{"level":"info","ts":"2025-08-25T13:48:14.561Z","caller":"apps/server.go:177","msg":"gRPC server listening on :50066"}
{"level":"debug","ts":"2025-08-25T13:54:47.596Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-25T13:54:47.605Z","caller":"apps/server.go:162","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-25T13:54:47.606Z","caller":"apps/server.go:177","msg":"gRPC server listening on :50066"}
{"level":"info","ts":"2025-08-25T13:54:47.606Z","caller":"apps/server.go:169","msg":"Metrics server listening on :8096"}
{"level":"debug","ts":"2025-08-25T15:00:37.823Z","caller":"database/database.go:71","msg":"Database connection established successfully with connection pool settings","DB_DRIVER":"postgres","MaxOpenConns":50,"MaxIdleConns":10,"ConnMaxLifetime":"30m0s"}
{"level":"info","ts":"2025-08-25T15:00:37.859Z","caller":"apps/server.go:162","msg":"Server running on port 50066"}
{"level":"info","ts":"2025-08-25T15:00:37.861Z","caller":"apps/server.go:169","msg":"Metrics server listening on :8096"}
{"level":"info","ts":"2025-08-25T15:00:37.866Z","caller":"apps/server.go:177","msg":"gRPC server listening on :50066"}
{"level":"info","ts":"2025-08-25T15:03:24.054Z","caller":"handler/merchant.go:234","msg":"Creating merchant business information","merchant_id":9,"business_type":"Restaurant","established_year":2010}
{"level":"debug","ts":"2025-08-25T15:03:24.054Z","caller":"service/merchantBusinessCommandService.go:245","msg":"Start: CreateMerchant"}
{"level":"debug","ts":"2025-08-25T15:03:24.062Z","caller":"service/merchantBusinessCommandService.go:259","msg":"Created merchant","merchantBusiness.id":9}
{"level":"info","ts":"2025-08-25T15:03:24.062Z","caller":"handler/merchant.go:268","msg":"Merchant business information created successfully","business_info_id":9,"merchant_id":9,"business_type":"Restaurant"}
{"level":"info","ts":"2025-08-25T15:03:24.062Z","caller":"middleware/context.go:25","msg":"gRPC Request","method":"/pb.MerchantBusinessService/Create","request_id":"req_1756134204054352582_qnt1BYG2","duration":"7.953465ms"}
{"level":"info","ts":"2025-08-25T16:08:38.667Z","caller":"handler/merchant.go:54","msg":"Fetching all merchant businesses","page":1,"page_size":10,"search":""}
{"level":"debug","ts":"2025-08-25T16:08:38.667Z","caller":"service/merchantBusinessQueryService.go:221","msg":"Start: FindAll"}
{"level":"debug","ts":"2025-08-25T16:08:38.694Z","caller":"redis/cache_helpers.go:51","msg":"Successfully cached data","cacheKey":"merchant_business:all:page:1:pageSize:10:search:","expiration":"5m0s"}
{"level":"debug","ts":"2025-08-25T16:08:38.694Z","caller":"service/merchantBusinessQueryService.go:235","msg":"Successfully fetched merchants","page":1,"pageSize":10,"search":""}
{"level":"info","ts":"2025-08-25T16:08:38.694Z","caller":"handler/merchant.go:86","msg":"Successfully fetched all merchant businesses","page":1,"total_records":9,"total_pages":1}
{"level":"info","ts":"2025-08-25T16:08:38.694Z","caller":"middleware/context.go:25","msg":"gRPC Request","method":"/pb.MerchantBusinessService/FindAll","request_id":"req_1756138118667339160_k9gBjxHb","duration":"27.170449ms"}
